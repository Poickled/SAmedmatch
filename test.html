<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA MedMatch - Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .search-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        .search-bar select, .search-bar input {
            padding: 8px 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
        }
        .search-bar button {
            padding: 8px 16px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        .search-bar button:hover {
            background-color: #0056b3;
        }
        .doctor-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background: #fafafa;
        }
        .doctor-card h3 {
            margin: 0 0 10px 0;
            color: #333;
        }
        .doctor-card p {
            margin: 5px 0;
            color: #666;
        }
        .stats {
            background: #e9ecef;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>SA MedMatch - Data Test</h1>
        
        <div class="stats">
            <p>Loading doctor data...</p>
        </div>
        
        <div class="search-bar">
            <select id="generalFilter">
                <option value="">All General Categories</option>
            </select>
            <select id="specialtyFilter">
                <option value="">All Specialties</option>
            </select>
            <select id="languageFilter">
                <option value="">All Languages</option>
            </select>
            <input type="text" id="zipInput" placeholder="Enter ZIP code">
            <button onclick="filterDoctors()">Search</button>
            <button onclick="clearFilters()">Clear</button>
        </div>
        
        <div id="doctorList">
            <!-- Doctors will be loaded here -->
        </div>
    </div>

    <script>
        // Comprehensive medical facilities data - 60+ facilities
        const doctorsData = [
            {
                name: "CENTROMED SARAH E DAVIDSON CLINIC",
                specialty: "Family Medicine, Pediatrics, Pregnancy Testing & Family Planning",
                gen: "Family Medicine, Pediatrics, Pregnancy & Family Planning",
                languages: "English, Spanish",
                address: "1 Haven for Hope Way, Bldg 1 STE 300 San Antonio, 78207",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "San Antonio Specialty Health & Sports Medicine - Downtown",
                specialty: "Neurology, Sports Medicine, Physical Therapy, Orthopedics, Dermatology, Rheumatology, Pain Management",
                gen: "Neurology, Sports Medicine, Physical Therapy, Orthopedics, Dermatology, Rheumatology, Pain Management",
                languages: "English",
                address: "1200 Brooklyn Ave. STE 320 San Antonio, 78212",
                lat: "29.4402731",
                lng: "-98.4905771",
                phone: ""
            },
            {
                name: "CommuniCare Health Centers - Metropolitan",
                specialty: "General Women's Wellness Care, Pregnancy Care",
                gen: "Women's Health, Pregnancy Care",
                languages: "English, Spanish",
                address: "1200 Brooklyn Ave, Suite #300 San Antonio, TX 78212",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "CentroMed City Center Clinic",
                specialty: "Pediatrics, Behavioral Health, Counseling, Family Medicine, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Well-child check-ups, Routine follow-up care, Vision & Hearing Screenings, Allergy Treatment, HIV Services, Lab Services, Nutrition Services, HIV Pre-Exposure Prophylaxis (PrEP), Referrals to Specialist",
                gen: "Pediatrics, Behavioral Health, Family Medicine, Physicals, Immunizations, Lab Services, Nutrition Services, Referrals",
                languages: "English",
                address: "",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "CentroMed SA Pediatrics - Promesa Building",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine follow-up care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "1314 Guadalupe Street, Suite 107 San Antonio, TX 78207",
                lat: "29.4180517",
                lng: "-98.5152218",
                phone: ""
            },
            {
                name: "CENTROMED FAMILY MEDICINE CLINIC",
                specialty: "",
                gen: "",
                languages: "English",
                address: "",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "Devine Behavioral Health",
                specialty: "Medical, Dental, Wellness Gym",
                gen: "Medical, Dental, Wellness",
                languages: "English",
                address: "1010 W. Hondo Ave, Devine, Texas 78016",
                lat: "29.1472609",
                lng: "-98.9160889",
                phone: ""
            },
            {
                name: "CommuniCare Health Centers - Vital Life Wellness Broadway",
                specialty: "Peak Transformation Program, Preventative Primary Care, Weight Loss Program, Hormone Replacement Therapy, Sexual Health Services, Individualized Diagnostic Care",
                gen: "Preventive Care, Weight Loss, Hormone Therapy, Sexual Health",
                languages: "English",
                address: "2520 Broadway St, Ste 100 San Antonio, 78215",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "CommuniCare Health Centers - West",
                specialty: "Adult Medicine, Women's Health, Pediatrics, Teen Health, Senior Care, Dental, Behavioral Health, Clinical Labs/Diagnostic Testing, WIC Program",
                gen: "Adult Medicine, Women's Health, Pediatrics, Teen Health, Senior Care, Dental, Behavioral Health, Lab Services",
                languages: "English",
                address: "1102 Barclay St San Antonio, 78207",
                lat: "29.4100693",
                lng: "-98.5429277",
                phone: ""
            },
            {
                name: "CommuniCare Health Centers - East",
                specialty: "Medical, Adult Medicine, Women's Health, Pediatric Medicine, Teen Health, Senior Care, Cardiology, Dental, STD/HIV Screening & Testing, Clinical Laboratory",
                gen: "Adult Medicine, Women's Health, Pediatrics, Teen Health, Senior Care, Cardiology, Dental, STD/HIV Testing, Lab Services",
                languages: "English",
                address: "3066 E Commerce St San Antonio, TX 78220",
                lat: "29.419674",
                lng: "-98.440346",
                phone: ""
            },
            {
                name: "CommuniCare Health Centers - Mobile Health Unit",
                specialty: "Blood pressure, Height/weight, Vision screenings, Flu vaccines, COVID, influenza, and strep testing, Physical exams, Screening labs",
                gen: "Primary Care, Screenings, Vaccinations",
                languages: "English",
                address: "3066 E Commerce St San Antonio, 78220",
                lat: "29.419674",
                lng: "-98.440346",
                phone: ""
            },
            {
                name: "CENTROMED SOUTH PARK MEDICAL CLINIC",
                specialty: "Family Medicine, Pediatrics, Triage/Walk-In, Women's Health (OB/GYN), Behavioral Health, Eligibility Services, Lab Services",
                gen: "Family Medicine, Pediatrics, Walk-In Care, Women's Health, Behavioral Health, Lab Services",
                languages: "English",
                address: "6315 S Zarzamora St San Antonio, 78211",
                lat: "29.365423",
                lng: "-98.5341296",
                phone: "(210) 922-7000"
            },
            {
                name: "CENTROMED SOUTH PARK DENTAL CLINIC",
                specialty: "Complete Dental Exam, Preventative Care, Fillings, Root Canals, Extraction, Crowns, Bridges, Dentures, Partials",
                gen: "Dental",
                languages: "English",
                address: "910 Wagner Ave San Antonio, 78211",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare Health Centers - Roosevelt",
                specialty: "Well Child Visits, Teen Health, ADHD/ADD Evaluations, Chronic Disease Management, Immunizations, Health and Nutrition Education",
                gen: "Pediatrics, Teen Health, Chronic Disease Management, Immunizations, Patient Education",
                languages: "English",
                address: "3727 Roosevelt Ave, San Antonio, TX 78214",
                lat: "29.3506951",
                lng: "-98.4813334",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - South",
                specialty: "Acute Care, Well Child Visits, Teen Health, ADHD/ADD Evaluations, Chronic Disease Management, Immunizations, Health and Nutrition Education",
                gen: "Acute Care, Pediatrics, Teen Health, Chronic Disease Management, Immunizations, Patient Education",
                languages: "English",
                address: "2316 SE Military Dr, San Antonio, TX 78223",
                lat: "29.3520317",
                lng: "-98.4559002",
                phone: "(210) 233-7000"
            },
            {
                name: "CentroMed Women's Health Clinic",
                specialty: "Health Screenings, Maternity Care, Sexual & Reproductive Health",
                gen: "Health Screenings, Maternity Care, Sexual & Reproductive Health",
                languages: "English",
                address: "7386 Barlite Blvd San Antonio, 78224",
                lat: "29.3546398",
                lng: "-98.54611",
                phone: ""
            },
            {
                name: "CentroMed SA Pediatrics",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine follow-up care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "94 Briggs St STE 400 San Antonio, 78224",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "CentroMed Southside Medical",
                specialty: "Family Medicine, Dental, Pediatrics, Behavioral Health, Eligibility Services, Lab Services, Women's Health (OB/GYN)",
                gen: "Family Medicine, Dental, Pediatrics, Behavioral Health, Lab Services, Women's Health",
                languages: "English",
                address: "3750 Commercial Avenue San Antonio, TX 78221",
                lat: "29.335848",
                lng: "-98.516118",
                phone: "(210) 922-7000"
            },
            {
                name: "CentroMed SA Pediatrics Southeast",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine follow-up care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "3327 Research Plz STE 307 San Antonio, 78235",
                lat: "29.3435597",
                lng: "-98.4372625",
                phone: "(210) 223-3543"
            },
            {
                name: "CommuniCare Health Centers - Northwest",
                specialty: "Adult Medicine, Women's Health, WIC Program, Pediatric Medicine, Teen Health, Senior Care, Behavioral Health, STD/HIV Screening & Testing, Clinical Laboratory",
                gen: "Adult Medicine, Women's Health, Pediatrics, Teen Health, Senior Care, Behavioral Health, STD/HIV Testing, Lab Services",
                languages: "English",
                address: "8210 Callaghan Road San Antonio, TX 78230",
                lat: "29.5142678",
                lng: "-98.5495499",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Navigation Center",
                specialty: "Psychotherapy and Psychiatry, Primary Care, Dental Care, OB/GYN Services, Vision, Specialized Health Care",
                gen: "Behavioral Health, Primary Care, Dental, Women's Health, Vision, Specialized Care",
                languages: "English",
                address: "7420 Blanco Rd Ste 210 San Antonio, 78216",
                lat: "29.5278792",
                lng: "-98.5052748",
                phone: "(210) 233-7000"
            },
            {
                name: "CENTROMED PALO ALTO CLINIC",
                specialty: "Pediatrics, Family Medicine, Internal Medicine, Dental, Optometry, Optical, Lab Services",
                gen: "Pediatrics, Family Medicine, Internal Medicine, Dental, Optometry, Lab Services",
                languages: "English",
                address: "9011 Poteet Jourdanton Fwy San Antonio, 78224",
                lat: "29.3342275",
                lng: "-98.5504693",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare Health Centers - Medical Center",
                specialty: "Pediatrics, Well-Child Visits, Developmental Checkups, Pediatric Acute Care, Teen Health, ADHD Care, Puberty Development Education, Sports Physicals, Women's Health, Annual Exams, Gynecological Surgery, Pregnancy Care, Immunizations, Patient Health Education",
                gen: "Pediatrics, Well-Child Visits, Developmental Checkups, Acute Care, Teen Health, ADHD Care, Women's Health, Immunizations, Patient Education",
                languages: "English",
                address: "7220 Louis Pasteur, Ste 140 San Antonio, TX 78229",
                lat: "29.5003126",
                lng: "-98.5770904",
                phone: "(210) 233-7175"
            },
            {
                name: "CentroMed Berto Guerra Jr. Clinic",
                specialty: "Family Medicine, Pediatrics, Dental, Behavioral Health, Eligibility Services, Lab Services",
                gen: "Family Medicine, Pediatrics, Dental, Behavioral Health, Lab Services",
                languages: "English",
                address: "5439 Ray Ellison Boulevard San Antonio, TX 78242",
                lat: "29.3548422",
                lng: "-98.6055369",
                phone: "(210) 922-7000"
            },
            {
                name: "Health Outcomes Centers",
                specialty: "Hepatitis Care, Metabolic Care, Labs",
                gen: "Hepatitis Care, Metabolic Care, Lab Services",
                languages: "English",
                address: "4751 Hamilton Wolfe Rd, Ste. 200 San Antonio, TX 78229",
                lat: "",
                lng: "",
                phone: "(210) 233-7126"
            },
            {
                name: "CENTROMED WOMEN'S SHELTER CLINIC - LA PALOMA DE PAZ",
                specialty: "Mental Health, Substance Abuse",
                gen: "Mental Health, Substance Abuse",
                languages: "English",
                address: "7404 W US Highway 90 Bldg 37 San Antonio, 78227",
                lat: "",
                lng: "",
                phone: ""
            },
            {
                name: "CentroMed Noemi Galvan Eling Clinic",
                specialty: "Family Medicine, Pediatrics, Triage/Walk-In, Women's Health (OB/GYN), Dental, Behavioral Health, Eligibility Services, Lab Services",
                gen: "Family Medicine, Pediatrics, Walk-In Care, Women's Health, Dental, Behavioral Health, Lab Services",
                languages: "English",
                address: "5542 Walzem Road San Antonio, TX 78218",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare at The MAC",
                specialty: "Pediatric Primary Care, Adult Primary Care, Behavioral & Mental Health, OB/GYN Services, Chronic Disease Management, Patient Health Education",
                gen: "Pediatrics, Adult Medicine, Behavioral Health, Women's Health, Chronic Disease Management, Patient Education",
                languages: "English",
                address: "5210 Thousand Oaks Dr, Suite 1203 San Antonio, TX 78233",
                lat: "29.5368364",
                lng: "-98.3953294",
                phone: "(210) 233-7250"
            },
            {
                name: "CentroMed Thousand Oaks Clinic",
                specialty: "Family Medicine, Pediatrics, Dental, Eligibility Services, Lab Services",
                gen: "Family Medicine, Pediatrics, Dental, Lab Services",
                languages: "English",
                address: "4300 Thousand Oak Drive, Suites #103 & 104 San Antonio, TX 78217",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare Health Centers - Hill Country Village",
                specialty: "Pediatrics, Well-Child Visits, Developmental Checkups, Pediatric Acute Care, Teen Health, ADHD Care, Puberty Development Education, Sports Physicals, Behavioral Health, Chronic Disease Management, Immunizations, Patient Health Education",
                gen: "Pediatrics, Well-Child Visits, Developmental Checkups, Acute Care, Teen Health, ADHD Care, Behavioral Health, Chronic Disease Management, Immunizations, Patient Education",
                languages: "English",
                address: "14811 San Pedro Avenue San Antonio, TX 78232",
                lat: "29.5764084",
                lng: "-98.4777522",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Westover Hills",
                specialty: "Acute Care, Adult Medicine, Chronic Disease Management, Immunizations, Nutrition Education, Patient Health Education, Pediatrics, Teen Health",
                gen: "Acute Care, Adult Medicine, Chronic Disease Management, Immunizations, Nutrition, Patient Education, Pediatrics, Teen Health",
                languages: "English",
                address: "9022 Culebra Rd, Ste. 101 San Antonio, TX 78251",
                lat: "",
                lng: "",
                phone: "(210) 942-5855"
            },
            {
                name: "CommuniCare Health Centers - Potranco",
                specialty: "Pediatrics, Well-Child Visits, Developmental Checkups, Pediatric Acute Care, Teen Health, ADHD Care, Puberty Development Education, Sports Physicals, Women's Health, Annual Exams, Gynecological Surgery, Obstetrics (Pregnancy Care), Behavioral Health, Chronic Disease Management, Immunizations, Patient Health Education, WIC Program, Nutrition Education",
                gen: "Pediatrics, Well-Child Visits, Developmental Checkups, Acute Care, Teen Health, ADHD Care, Women's Health, Immunizations, Patient Education, Nutrition",
                languages: "English",
                address: "10002 Westover Bluff San Antonio Texas 78251",
                lat: "",
                lng: "",
                phone: "(210) 233-7216"
            },
            {
                name: "CommuniCare Health Centers - Hallmark University",
                specialty: "Virtual Adult Acute Care, Testing for Flu, COVID, and RSV, Annual Wellness Exams, Patient Health Education, A1C Testing",
                gen: "Virtual Care, Screenings, Vaccinations, Wellness Exams, Patient Education",
                languages: "English",
                address: "9855 Westover Hills Blvd, Suite 156 San Antonio, TX 78251",
                lat: "",
                lng: "",
                phone: "(210) 431-6264"
            },
            {
                name: "CommuniCare Health Centers - Allergy Institute",
                specialty: "Allergy",
                gen: "Allergy",
                languages: "English",
                address: "4456 Lockhill-Selma Rd, Suite 103, San Antonio, TX 78249",
                lat: "29.5842882",
                lng: "-98.5705676",
                phone: "(210) 455-2000"
            },
            {
                name: "CommuniCare Blvd Dental",
                specialty: "Adult & Pediatric Dentistry, Dental Exams, Teeth Cleanings, Sealants, Fillings, Root Canals, Extractions, Crowns, Bridges, Dentures, Implants",
                gen: "Dental",
                languages: "English",
                address: "5138 UTSA Blvd, Ste. 116 San Antonio, TX 78249",
                lat: "",
                lng: "",
                phone: "(210) 233-7186"
            },
            {
                name: "CENTROMED FAMILY FIRST CLINIC",
                specialty: "Family Medicine, Pediatrics, Lab Services",
                gen: "Family Medicine, Pediatrics, Lab Services",
                languages: "English",
                address: "9135 Schaefer Road, Suite 4 Converse, TX 78109",
                lat: "29.506306",
                lng: "-98.306537",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare Health Centers - Vital Life Wellness Stone Oak",
                specialty: "Peak Transformation Program, Preventative Primary Care, Weight Loss Program, Hormone Replacement Therapy, Sexual Health Services, Individualized Diagnostic Care",
                gen: "Preventive Care, Weight Loss, Hormone Therapy, Sexual Health",
                languages: "English",
                address: "418 N Loop 1604 W San Antonio, TX 78232",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "Apollo Wellness",
                specialty: "HIV/STI Testing, STI Treatment, PrEP Prescriptions and Management (In-Person or Virtual Visits), PEP Prescriptions, DoxyPEP Prescriptions, Sexual Health Education, Chronic Disease Management, Immunizations, Physicals, STD/HIV Testing and Treatment, Hepatitis B and Hepatitis C Evaluations, Counseling",
                gen: "STD/HIV Testing, PrEP/PEP, Chronic Disease Management, Immunizations, Physicals, Patient Education",
                languages: "English",
                address: "6511 W Loop 1604 N, Ste. 105, San Antonio, TX",
                lat: "",
                lng: "",
                phone: "(972) 224-3438"
            },
            {
                name: "CentroMed SA Pediatrics Stone Oak",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine Follow-Up Care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "123 Stone Oak Loop San Antonio, 78258",
                lat: "29.6305911",
                lng: "-98.4942968",
                phone: "(210) 223-3543"
            },
            {
                name: "CommuniCare Health Centers - Encino Park",
                specialty: "Pediatrics, Teen Health, Adult Medicine, Senior Care, Immunizations, Patient Health Education, Chronic Disease Management",
                gen: "Pediatrics, Teen Health, Adult Medicine, Senior Care, Immunizations, Patient Education, Chronic Disease Management",
                languages: "English",
                address: "20306 Encino Ledge, Ste. 101 and 103 San Antonio, TX 78259",
                lat: "",
                lng: "",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Luckey Ranch",
                specialty: "Adult Medicine, Pediatrics, Teen Health, Women's Health (OB/GYN), Senior Care, After Hours Urgent Care",
                gen: "Adult Medicine, Pediatrics, Teen Health, Women's Health, Senior Care, Urgent Care",
                languages: "English",
                address: "11930 US 90, Ste. 110, San Antonio, TX 78245",
                lat: "",
                lng: "",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Helotes",
                specialty: "Pediatrics & Teen Health, ADHD Care, Developmental Checkups, Pediatric Acute Care (Sick Visits), Puberty Development Education, Sports Physicals, Well-Child Visits, Women's Health, Physical Exams, Gynecological Surgery, Obstetrics (Pregnancy Care), Adult Medicine, Acute Care, Chronic Disease Management, Health Screenings, Immunizations, Patient Health Education, Behavioral Health",
                gen: "Pediatrics, Teen Health, Women's Health, Adult Medicine, Acute Care, Chronic Disease Management, Immunizations, Patient Education, Behavioral Health",
                languages: "English",
                address: "12850 Bandera Rd, Ste 106 Helotes, TX 78023",
                lat: "29.5624171",
                lng: "-98.6832169",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Alamo Ranch",
                specialty: "Pediatrics, Teen Health, Women's Health (OB/GYN), Senior Care, Adult Medicine, Chronic Disease Management, Patient Health Education",
                gen: "Pediatrics, Teen Health, Women's Health, Senior Care, Adult Medicine, Chronic Disease Management, Patient Education",
                languages: "English",
                address: "6838 Alamo Pkwy, Suite #5 San Antonio, TX 78253",
                lat: "",
                lng: "",
                phone: "(210) 233-7000"
            },
            {
                name: "CommuniCare Health Centers - Stone Oak",
                specialty: "Pediatrics, Teen Health, Adult Medicine, Immunizations, Patient Health Education, Chronic Disease Management",
                gen: "Pediatrics, Teen Health, Adult Medicine, Immunizations, Patient Education, Chronic Disease Management",
                languages: "English",
                address: "20642 Stone Oak Pkwy, Suite 105 San Antonio, TX 78258",
                lat: "29.6491194",
                lng: "-98.4637499",
                phone: "(210) 233-7000"
            },
            {
                name: "CENTROMED MARIA CASTRO FLORES CLINIC",
                specialty: "Family Medicine, Dental, Lab Services",
                gen: "Family Medicine, Dental, Lab Services",
                languages: "English",
                address: "7315 South Loop 1604 West Somerset, TX 78069",
                lat: "",
                lng: "",
                phone: "(210) 922-7000"
            },
            {
                name: "CommuniCare Health Centers - Leon Springs",
                specialty: "Pediatrics & Teen Health, ADHD Care, Developmental Checkups, Pediatric Acute Care (Sick Visits), Puberty Development Education, Sports Physicals, Well-Child Visits (Annual Checkups), Women's Health, Physical Exams, Gynecological Surgery, Obstetrics (Pregnancy Care), Adult Medicine, Acute Care, Chronic Disease Management, Health Screenings, Immunizations, Patient Health Education, Behavioral Health",
                gen: "Pediatrics, Teen Health, Acute Care, Women's Health, Adult Medicine, Chronic Disease Management, Immunizations, Patient Education, Behavioral Health",
                languages: "English",
                address: "21195 I-10, Suite 2101 San Antonio, TX 78257",
                lat: "29.6396397",
                lng: "-98.6171205",
                phone: "(210) 233-7000"
            },
            {
                name: "CentroMed SA Pediatrics Tri-County Crossing Phase II",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine Follow-Up Care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "17323 Interstate 35 N Schertz, 78154",
                lat: "29.5963938",
                lng: "-98.2826237",
                phone: "(210) 223-3543"
            },
            {
                name: "CentroMed SA Pediatrics Cibolo",
                specialty: "Pediatrics, Physicals, Immunizations, Child Health Step/EPSDT, Sick Visits, Routine Follow-Up Care, Vision & Hearing Screenings, Allergy Treatment, Lab Services",
                gen: "Pediatrics, Physicals, Immunizations, Lab Services",
                languages: "English",
                address: "580 Cibolo Valley Dr, Suite 221 Cibolo, Texas 78108",
                lat: "29.5747704",
                lng: "-98.2423365",
                phone: "(210) 223-3543"
            },
            {
                name: "University Health - Adult Congenital Heart Clinic Dominion Crossing",
                specialty: "Heart & Vascular",
                gen: "Heart & Vascular",
                languages: "English",
                address: "21727 I-10 Suite 107 San Antonio, TX 78257",
                lat: "29.6435383",
                lng: "-98.6197932",
                phone: "(210) 644-1230"
            },
            {
                name: "University Health - Advanced Diagnostic Center",
                specialty: "Cardiology, Vascular, Pulmonology, Gastroenterology, Neuroendovascular",
                gen: "Cardiology, Vascular, Pulmonology, Gastroenterology, Neurology",
                languages: "English",
                address: "4502 Medical Drive 1st Floor, Sky Tower San Antonio, TX 78229",
                lat: "",
                lng: "",
                phone: "(210) 743-7355"
            },
            {
                name: "University Health - Allergy & Asthma - Babcock",
                specialty: "Asthma, Allergies, Sinusitis, Contact Dermatitis",
                gen: "Allergy, Asthma, Sinus, Dermatology",
                languages: "English",
                address: "2833 Babcock Road Suite 304 San Antonio, TX 78229",
                lat: "29.5127341",
                lng: "-98.5915229",
                phone: "(210) 644-3700"
            },
            {
                name: "University Health - Babcock",
                specialty: "General Surgery, Pediatric Behavioral Health, Behavioral Health",
                gen: "Surgery, Behavioral Health, Pediatric Behavioral Health",
                languages: "English",
                address: "2425 Babcock Road Suite 111 San Antonio, TX 78229",
                lat: "29.5066654",
                lng: "-98.5848909",
                phone: "(210) 358-3108"
            },
            {
                name: "University Health - Breast Center",
                specialty: "Women's Imaging, 3D Mammography, Breast Ultrasound, Guided Biopsies, Stereotactic Biopsies",
                gen: "Women's Imaging, Mammography, Ultrasound, Biopsies",
                languages: "English",
                address: "8403 Wurzbach Road San Antonio, TX 78229",
                lat: "",
                lng: "",
                phone: "(210) 644-2900"
            },
            {
                name: "University Health - Collier Health Center",
                specialty: "Adult Primary Care, Pediatric Primary Care",
                gen: "Adult Primary Care, Pediatric Primary Care",
                languages: "English",
                address: "834 W. Southcross Blvd. San Antonio, TX 78211",
                lat: "29.3678333",
                lng: "-98.5233258",
                phone: "(210) 644-1500"
            },
            {
                name: "University Health - Davis Health Center",
                specialty: "Adult Primary Care, Pediatric Primary Care",
                gen: "Adult Primary Care, Pediatric Primary Care",
                languages: "English",
                address: "4702 E Houston Street San Antonio, TX 78220",
                lat: "29.4233492",
                lng: "-98.4008731",
                phone: "(210) 644-2050"
            },
            {
                name: "University Health - Dialysis Medical Center",
                specialty: "Chronic Outpatient Dialysis, Hemodialysis, Peritoneal Dialysis, Continuous Renal Replacement Therapy",
                gen: "Kidney Care, Dialysis",
                languages: "English",
                address: "6146 Wurzbach Road San Antonio, TX 78238",
                lat: "",
                lng: "",
                phone: "(210) 644-4300"
            },
            {
                name: "University Health - Dominion Crossing",
                specialty: "Adult Primary Care, Pediatric Primary Care, Interventional Cardiology",
                gen: "Adult Primary Care, Pediatric Primary Care, Cardiology",
                languages: "English",
                address: "21727 I-10 Suite 103 San Antonio, TX 78257",
                lat: "29.6435383",
                lng: "-98.6197932",
                phone: "(210) 644-1200"
            },
            {
                name: "University Health - Dr. Robert L.M. Hilliard Center",
                specialty: "Adult Primary Care, Pediatric Primary Care, Women's Health, Endocrinology and Diabetes",
                gen: "Adult Primary Care, Pediatric Primary Care, Women's Health, Endocrinology",
                languages: "English",
                address: "919 Locke Street San Antonio, TX 78208",
                lat: "29.4381749",
                lng: "-98.4479631",
                phone: "(210) 644-8700"
            }
        ];

        let filteredDoctors = [...doctorsData];

        function loadData() {
            console.log('Loading doctors data...');
            console.log('Total doctors:', doctorsData.length);
            
            // Update stats
            document.querySelector('.stats p').textContent = `Loaded ${doctorsData.length} medical facilities`;
            
            // Populate filter dropdowns
            populateFilters();
            
            // Display doctors
            displayDoctors(filteredDoctors);
        }

        function populateFilters() {
            const generalSet = new Set();
            const specialtySet = new Set();
            const languageSet = new Set();

            doctorsData.forEach(doctor => {
                if (doctor.gen) {
                    doctor.gen.split(',').forEach(item => {
                        const trimmed = item.trim();
                        if (trimmed) generalSet.add(trimmed);
                    });
                }
                if (doctor.specialty) {
                    doctor.specialty.split(',').forEach(item => {
                        const trimmed = item.trim();
                        if (trimmed) specialtySet.add(trimmed);
                    });
                }
                if (doctor.languages) {
                    doctor.languages.split(',').forEach(item => {
                        const trimmed = item.trim();
                        if (trimmed) languageSet.add(trimmed);
                    });
                }
            });

            // Populate general categories dropdown
            const generalFilter = document.getElementById('generalFilter');
            Array.from(generalSet).sort().forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                generalFilter.appendChild(option);
            });

            // Populate specialties dropdown
            const specialtyFilter = document.getElementById('specialtyFilter');
            Array.from(specialtySet).sort().forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                specialtyFilter.appendChild(option);
            });

            // Populate languages dropdown
            const languageFilter = document.getElementById('languageFilter');
            Array.from(languageSet).sort().forEach(item => {
                const option = document.createElement('option');
                option.value = item;
                option.textContent = item;
                languageFilter.appendChild(option);
            });

            console.log('Filters populated - General:', generalSet.size, 'Specialties:', specialtySet.size, 'Languages:', languageSet.size);
        }

        function filterDoctors() {
            const generalFilter = document.getElementById('generalFilter').value;
            const specialtyFilter = document.getElementById('specialtyFilter').value;
            const languageFilter = document.getElementById('languageFilter').value;
            const zipInput = document.getElementById('zipInput').value;

            filteredDoctors = doctorsData.filter(doctor => {
                let match = true;

                // Filter by general category
                if (generalFilter && doctor.gen) {
                    const doctorGen = doctor.gen.split(',').map(item => item.trim());
                    if (!doctorGen.includes(generalFilter)) match = false;
                }

                // Filter by specialty
                if (specialtyFilter && doctor.specialty) {
                    const doctorSpecialties = doctor.specialty.split(',').map(item => item.trim());
                    if (!doctorSpecialties.includes(specialtyFilter)) match = false;
                }

                // Filter by language
                if (languageFilter && doctor.languages) {
                    const doctorLanguages = doctor.languages.split(',').map(item => item.trim());
                    if (!doctorLanguages.includes(languageFilter)) match = false;
                }

                return match;
            });

            console.log('Filtered doctors:', filteredDoctors.length);
            displayDoctors(filteredDoctors);
        }

        function clearFilters() {
            document.getElementById('generalFilter').value = '';
            document.getElementById('specialtyFilter').value = '';
            document.getElementById('languageFilter').value = '';
            document.getElementById('zipInput').value = '';
            filteredDoctors = [...doctorsData];
            displayDoctors(filteredDoctors);
        }

        function displayDoctors(doctors) {
            const doctorList = document.getElementById('doctorList');
            
            if (doctors.length === 0) {
                doctorList.innerHTML = '<div class="doctor-card"><p>No doctors found matching your criteria.</p></div>';
                return;
            }

            doctorList.innerHTML = doctors.map(doctor => `
                <div class="doctor-card">
                    <h3>${doctor.name}</h3>
                    <p><strong>Specialty:</strong> ${doctor.specialty || 'Not specified'}</p>
                    <p><strong>General Categories:</strong> ${doctor.gen || 'Not specified'}</p>
                    <p><strong>Languages:</strong> ${doctor.languages || 'Not specified'}</p>
                    <p><strong>Address:</strong> ${doctor.address || 'Not specified'}</p>
                    ${doctor.phone ? `<p><strong>Phone:</strong> ${doctor.phone}</p>` : ''}
                    ${doctor.lat && doctor.lng ? `<p><strong>Coordinates:</strong> ${doctor.lat}, ${doctor.lng}</p>` : ''}
                </div>
            `).join('');
        }

        // Load data when page loads
        window.onload = loadData;
    </script>
</body>
</html>
